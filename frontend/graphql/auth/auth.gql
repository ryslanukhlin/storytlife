input RegisterInput {
    login: String!
    phone: String!
    password: String!
}

input LoginInput {
    phone: String!
    password: String!
}

mutation RegisterUser($registerInput: RegisterInput) {
    registerUser(registerInput: $registerInput) {
        success
    }
}

mutation LoginUser($loginInput: LoginInput) {
    loginUser(loginInput: $loginInput) {
        access_token
    }
}

query GetUser {
    getUser {
        id
        phone
        login
        created_at
        chats {
            id
            users {
                id
                login
                phone
            }
        }
    }
}

mutation CreateCall($createCallInput: CreateCallInput!) {
    createCall(createCallInput: $createCallInput)
}

subscription NewCreteCall($userId: String!) {
    newCreteCall(userId: $userId) {
        chatId
        usingVideo
    }
}

mutation AcceptCall($acceptCallInput: AcceptCallInput!) {
    acceptCall(acceptCallInput: $acceptCallInput)
}

subscription NewAcceptCall($userId: String!) {
    newAcceptCall(userId: $userId) {
        acceptCall
        chatId
    }
}

mutation CancelCall($userId: String!) {
    cancelCall(userId: $userId)
}

subscription NewCancelCall($userId: String!) {
    newCancelCall(userId: $userId)
}
